local Library = {}
Library.__index = Library

function Library:MakeWindow(config)
    local Window = {}
    Window.__index = Window

    Window.Name = config.Name or "Window"
    Window.Tabs = {}

    function Window:MakeTab(tabConfig)
        local Tab = {}
        Tab.Name = tabConfig.Name or "Tab"
        Tab.Icon = tabConfig.Icon
        Tab.PremiumOnly = tabConfig.PremiumOnly or false

        Tab.Sections = {}
        function Tab:AddSection(sectionConfig)
            local Section = {}
            Section.Name = sectionConfig.Name or "Section"

            function Section:AddButton(buttonConfig)
                -- button creation shit here
                if buttonConfig.Callback then
                    buttonConfig.Callback()
                end
            end

            function Section:AddToggle(toggleConfig)
                -- toggle creation shit here
            end

            Table.insert(Tab.Sections, Section)
            return Section
        end

        table.insert(self.Tabs, Tab)
        return Tab
    end

    setmetatable(Window, Window)
    return Window
end

return setmetatable(Library, Library)
