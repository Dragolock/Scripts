local Library = loadstring(game:HttpGetAsync("https://github.com/ActualMasterOogway/Fluent-Renewed/releases/latest/download/Fluent.luau"))()
local SaveManager = loadstring(game:HttpGetAsync("https://raw.githubusercontent.com/ActualMasterOogway/Fluent-Renewed/master/Addons/SaveManager.luau"))()
local InterfaceManager = loadstring(game:HttpGetAsync("https://raw.githubusercontent.com/ActualMasterOogway/Fluent-Renewed/master/Addons/InterfaceManager.luau"))()

local Window = Library:Window{
    Title = "Pull A Sword Events",
    SubTitle = "By coco",
    TabWidth = 130,
    Size =  UDim2.fromOffset(500, 430),
    Resize = false, 
    Theme = "Darker",
    MinimizeKey = Enum.KeyCode.LeftShift
}

-- Tabs
local Tabs = {
    Stuff1 = Window:CreateTab{Title = "Main Game", Icon = "phosphor-sword-bold"},
    Settings = Window:CreateTab{Title = "Settings", Icon = "phosphor-sword-bold"}
}

local Options = Library.Options

Tabs.Stuff1:CreateToggle("AutoWin", {Title = "Auto Win", Default = false})
    :OnChanged(function(state)
        if state then
            task.spawn(function()
                local Players = game:GetService("Players")
                local TweenService = game:GetService("TweenService")
                local player = Players.LocalPlayer
                local char = player.Character or player.CharacterAdded:Wait()
                local hrp = char:WaitForChild("HumanoidRootPart")

                local targetPosition1 = Vector3.new(3, 32, -171)
                local targetPosition2 = Vector3.new(2, -2043, -5464)

                while Options.AutoWin.Value do
                    hrp.CFrame = CFrame.new(targetPosition1)

                    local distance = (hrp.Position - targetPosition2).Magnitude
                    local speed = 100
                    local tweenTime = distance / speed

                    local tweenInfo = TweenInfo.new(tweenTime, Enum.EasingStyle.Linear)
                    local tween = TweenService:Create(hrp, tweenInfo, {CFrame = CFrame.new(targetPosition2)})
                    tween:Play()
                    tween.Completed:Wait()

                    task.wait(4)
                end
            end)
        else
        end
    end)

local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer

Tabs.Stuff1:CreateToggle("AutoWinTest", {Title = "Auto Winn", Default = false})
    :OnChanged(function(state)
        if state then
            task.spawn(function()
                local char = player.Character or player.CharacterAdded:Wait()
                local hrp = char:WaitForChild("HumanoidRootPart")
                local tweenSpeed = 10
                local targetPosition1 = Vector3.new(3, 32, -171)
                local targetPosition2 = Vector3.new(2, -2043, -5464)

                local function tweenToPosition(targetPos)
                    local humanoid = char:FindFirstChildOfClass("Humanoid")
                    if humanoid and humanoid.SeatPart then
                        humanoid.Sit = false
                        task.wait(0.1)
                    end
                    local tweenInfo = TweenInfo.new(tweenSpeed, Enum.EasingStyle.Linear)
                    local tween = TweenService:Create(hrp, tweenInfo, {CFrame = CFrame.new(targetPos)})
                    tween:Play()
                    tween.Completed:Wait()
                end

                while Options.AutoWinTest.Value do
                    hrp.CFrame = CFrame.new(targetPosition1)
                    tweenToPosition(targetPosition2)
                    task.wait(4) -- wait at destination before repeating
                end
            end)
        else
            -- No specific cleanup needed for TweenService here
        end
    end)


--------------------------------------------------
-- CONFIGURATION / MANAGERS
--------------------------------------------------

SaveManager:SetLibrary(Library)
InterfaceManager:SetLibrary(Library)

SaveManager:IgnoreThemeSettings()
SaveManager:SetIgnoreIndexes({})

InterfaceManager:SetFolder("FluentEventsHub")
SaveManager:SetFolder("FluentEventsHub/SpecificGame")

InterfaceManager:BuildInterfaceSection(Tabs.Settings)
SaveManager:BuildConfigSection(Tabs.Settings)

Window:SelectTab(1)
Library:Notify{Title = "Fluent", Content = "Script loaded successfully!", Duration = 8}
SaveManager:LoadAutoloadConfig()
