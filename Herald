local player = game.Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local hrp = char:WaitForChild("HumanoidRootPart")

local monstersFolder = workspace:WaitForChild("DEV"):WaitForChild("MonsterCollisions")

-- Function to get nearest monster model
local function getNearestMonster()
    local nearest
    local shortest = math.huge

    for _, monster in ipairs(monstersFolder:GetDescendants()) do
        if monster:IsA("Model") and monster:FindFirstChild("HumanoidRootPart") then
            local dist = (hrp.Position - monster.HumanoidRootPart.Position).Magnitude
            if dist < shortest then
                shortest = dist
                nearest = monster
            end
        end
    end

    return nearest
end

-- Attack loop
while task.wait(0.1) do
    local target = getNearestMonster()
    if target then
        local args = {
            { target },
            "WoodSword" -- change to your weapon name if needed
        }

        game:GetService("ReplicatedStorage")
            :WaitForChild("packages")
            :WaitForChild("_Index")
            :WaitForChild("sleitnick_knit@1.5.1")
            :WaitForChild("knit")
            :WaitForChild("Services")
            :WaitForChild("FighterService")
            :WaitForChild("RF")
            :WaitForChild("DamageRequest")
            :InvokeServer(unpack(args))
    end
end
