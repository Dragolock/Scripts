local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/liebertsx/Tora-Library/main/src/library",true))()
local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/liebertsx/Tora-Library/main/src/librarynew",true))()

local tab = library:CreateWindow("Bodybuilder")
local folder = tab:AddFolder("Main")

local Players = game:GetService("Players")
local player = Players.LocalPlayer

local teleportNPCs = false
local infiniteRebirths = false

-- Teleport NPCs Toggle
folder:AddToggle({
    text = "Teleport NPCs",
    flag = "teleport_npcs",
    callback = function(v)
        teleportNPCs = v
        if v then
            task.spawn(function()
                while teleportNPCs do
                    local character = player.Character or player.CharacterAdded:Wait()
                    local rootPart = character:FindFirstChild("HumanoidRootPart")
                    local npcFolder = workspace:FindFirstChild("NPCs")

                    if rootPart and npcFolder then
                        for _, npcPart in ipairs(npcFolder:GetDescendants()) do
                            if npcPart:IsA("BasePart") then
                                -- Make nearly invisible + no collision
                                npcPart.Transparency = 0.9
                                npcPart.CanCollide = false
                                npcPart.Anchored = true
                                
                                -- Move in front of player
                                npcPart.CFrame = rootPart.CFrame * CFrame.new(0, 0, -2)
                            end
                        end
                    end
                    task.wait(2)
                end
            end)
        else
            -- Restore NPCs when disabled
            local npcFolder = workspace:FindFirstChild("NPCs")
            if npcFolder then
                for _, npcPart in ipairs(npcFolder:GetDescendants()) do
                    if npcPart:IsA("BasePart") then
                        npcPart.Transparency = 0
                        npcPart.CanCollide = true
                        npcPart.Anchored = false
                    end
                end
            end
        end
    end
})

-- Infinite Rebirths Toggle
folder:AddToggle({
    text = "Infinite Rebirths",
    flag = "infinite_rebirths",
    callback = function(v)
        infiniteRebirths = v
        if v then
            task.spawn(function()
                local event = game:GetService("ReplicatedStorage"):WaitForChild("RebirthEvent")
                while infiniteRebirths do
                    local args = {
                        -1000000,
                        9000176548
                    }
                    event:FireServer(unpack(args))
                    task.wait(1) -- every second
                end
            end)
        end
    end
})

-- Infinite Money Button
folder:AddButton({
    text = "Infinite Money",
    flag = "infinite_money",
    callback = function()
        local args = {
            "Gravity",
            -9e9
        }
        game:GetService("ReplicatedStorage"):WaitForChild("ShopBought"):FireServer(unpack(args))
    end
})

library:Init()
