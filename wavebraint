local Library = loadstring(game:HttpGetAsync("https://github.com/ActualMasterOogway/Fluent-Renewed/releases/latest/download/Fluent.luau"))()
local SaveManager = loadstring(game:HttpGetAsync("https://raw.githubusercontent.com/ActualMasterOogway/Fluent-Renewed/master/Addons/SaveManager.luau"))()
local InterfaceManager = loadstring(game:HttpGetAsync("https://raw.githubusercontent.com/ActualMasterOogway/Fluent-Renewed/master/Addons/InterfaceManager.luau"))()

local Window = Library:Window{
    Title = "CHub - Waste Time",
    SubTitle = "By secret",
    TabWidth = 100,
    Size =  UDim2.fromOffset(400, 300),
    Resize = false, 
    Theme = "United GNOME",
    MinimizeKey = Enum.KeyCode.LeftShift
}

local Tabs = {
    mainTab = Window:CreateTab{Title = "Main Game", Icon = "phosphor-sword-bold"},
    zones = Window:CreateTab{Title = "Main Game", Icon = "phosphor-sword-bold"},
    Settings = Window:CreateTab{Title = "Settings", Icon = "phosphor-sword-bold"}
}

local Options = Library.Options

Tabs.mainTab:CreateToggle("BestAreaBrainrot", {
    Title = "Best Area Brainrot",
    Default = false
})
:OnChanged(function(state)
    if not state then return end

    local Players = game:GetService("Players")
    local player = Players.LocalPlayer

    local TELEPORT_POSITION = Vector3.new(39, 7, 57)
    local ZONE_FOLDER_NAME = "Zone13"
    local WAIT_TIME = 0.2

    local zoneFolder = workspace:WaitForChild(ZONE_FOLDER_NAME)

    local character = player.Character or player.CharacterAdded:Wait()
    local hrp = character:WaitForChild("HumanoidRootPart")

    player.CharacterAdded:Connect(function(c)
        character = c
        hrp = c:WaitForChild("HumanoidRootPart")
    end)

    local function teleportTo(position)
        if hrp then
            hrp.CFrame = CFrame.new(position)
        end
    end

    local function firePromptsInPart(part)
        for _, descendant in ipairs(part:GetDescendants()) do
            if descendant:IsA("ProximityPrompt") then
                fireproximityprompt(descendant)
            end
        end
    end

    local function getRandomPart()
        local parts = {}
        for _, obj in ipairs(zoneFolder:GetChildren()) do
            if obj:IsA("BasePart") then
                table.insert(parts, obj)
            end
        end
        if #parts == 0 then
            return nil
        end
        return parts[math.random(1, #parts)]
    end

    task.spawn(function()
        while Options.BestAreaBrainrot.Value do
            local randomPart = getRandomPart()

            if randomPart then
                teleportTo(randomPart.Position)
                task.wait(WAIT_TIME)

                firePromptsInPart(randomPart)

                teleportTo(TELEPORT_POSITION)
                task.wait(WAIT_TIME)
            else
                task.wait(1)
            end
        end
    end)
end)

Tabs.mainTab:CreateButton({
    Title = "Anti AFK",
    Description = "Helps you to not get kicked.",
    Callback = function()
        game:GetService('Players').LocalPlayer.Idled:Connect(function()
            game:GetService('VirtualUser'):CaptureController()
            game:GetService('VirtualUser'):ClickButton2(Vector2.new())
        end)

        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Anti-AFK",
            Text = "Anti-AFK is now enabled!",
            Duration = 3
        })
    end
})

Tabs.mainTab:CreateButton({
    Title = "Anti Lag",
    Description = "Decrease quality to not lag.",
    Callback = function()
        local Lighting = game:GetService("Lighting")
        local RunService = game:GetService("RunService")
        local Terrain = workspace:FindFirstChildWhichIsA("Terrain")

        if Terrain then
            Terrain.WaterWaveSize = 0
            Terrain.WaterWaveSpeed = 0
            Terrain.WaterReflectance = 0
            Terrain.WaterTransparency = 1
        end

        Lighting.GlobalShadows = false
        Lighting.FogStart = 9e9
        Lighting.FogEnd = 9e9
        settings().Rendering.QualityLevel = 1

        for _, v in pairs(game:GetDescendants()) do
            if v:IsA("BasePart") then
                v.CastShadow = false
                v.Material = "Plastic"
                v.Reflectance = 0
                v.BackSurface = Enum.SurfaceType.SmoothNoOutlines
                v.BottomSurface = Enum.SurfaceType.SmoothNoOutlines
                v.FrontSurface = Enum.SurfaceType.SmoothNoOutlines
                v.LeftSurface = Enum.SurfaceType.SmoothNoOutlines
                v.RightSurface = Enum.SurfaceType.SmoothNoOutlines
                v.TopSurface = Enum.SurfaceType.SmoothNoOutlines
            elseif v:IsA("Decal") then
                v.Transparency = 1
                v.Texture = ""
            elseif v:IsA("ParticleEmitter") or v:IsA("Trail") then
                v.Lifetime = NumberRange.new(0)
            end
        end

        for _, v in pairs(Lighting:GetDescendants()) do
            if v:IsA("PostEffect") then
                v.Enabled = false
            end
        end

        workspace.DescendantAdded:Connect(function(child)
            task.spawn(function()
                if child:IsA("ForceField") or child:IsA("Sparkles") or child:IsA("Smoke") or child:IsA("Fire") or child:IsA("Beam") then
                    RunService.Heartbeat:Wait()
                    child:Destroy()
                elseif child:IsA("BasePart") then
                    child.CastShadow = false
                end
            end)
        end)
    end
})

--------------------------------------------------
-- important stuff
--------------------------------------------------

SaveManager:SetLibrary(Library)
InterfaceManager:SetLibrary(Library)

SaveManager:IgnoreThemeSettings()
SaveManager:SetIgnoreIndexes({})

InterfaceManager:SetFolder("FluentEventsHub")
SaveManager:SetFolder("FluentEventsHub/SpecificGame")

InterfaceManager:BuildInterfaceSection(Tabs.Settings)
SaveManager:BuildConfigSection(Tabs.Settings)

Window:SelectTab(1)
Library:Notify{Title = "Fluent", Content = "Script loaded successfully!", Duration = 8}
SaveManager:LoadAutoloadConfig()
